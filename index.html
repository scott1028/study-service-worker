<!DOCTYPE html>
<html>
<head>
  <title></title>
</head>
<body>
<script>
  if (navigator.serviceWorker != null) {
    // 使用瀏覽器特定方法註冊一個新的service worker
    navigator.serviceWorker.register('service-worker.js')
    .then(function(registration) {
      window.registration = registration;
      console.log('Registered events at scope: ', registration.scope);

      setTimeout(() => {
        // test preload cache created by service-worker
        fetch('index.html').then(async (resp) => {
          console.log(await resp.text());
        });
      }, 2000);
    });
  }
</script>
</body>
</html>